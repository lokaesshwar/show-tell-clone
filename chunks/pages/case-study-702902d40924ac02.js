(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2181],{57401:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/case-study",function(){return r(31977)}])},31977:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSG:function(){return j},default:function(){return w}});var n=r(85893),i=r(79548),s=r(7129),c=r.n(s),o=r(75228),l=r(70639),u=r(59706),a=r(38855),d=r(61211),h=r(10990),p=r(56546),f=r(67294),m=r(42708),g=r(721),_=r.n(g),x=r(19763);function v(e){let{categories:t,items:{nextPage:r,docs:i,limit:s},currentCategory:g,locale:v}=e,[j,w]=(0,f.useState)({prev:"",current:""}),[b,k]=(0,f.useState)(r),[N,y]=(0,f.useState)(g),[L,E]=(0,f.useState)(i),C=(0,f.useRef)(null),Z=(0,f.useRef)(),I=(0,x._)({type:"byChar",delay:"pageLoading"}),S=(0,d.s)(),[T,M]=(0,m.YD)({triggerOnce:!0}),F=async()=>{let e="";N&&N.id&&(e+="&where[category.value][equals]=".concat(N.id));let t=await fetch("/api/projects?page=".concat(b).concat(e,"&limit=").concat(s,"&depth=1&sort=-customPublishDate&locale=").concat(v));return t.json()};return(0,f.useEffect)(()=>{S||(w(e=>({prev:e.current,current:"cat_switch"})),k(1))},[N]),(0,f.useEffect)(()=>{j.current&&!j.prev&&null!==b&&F().then(e=>{"loadmore"==j.current?E(L.concat(e.docs)):E(e.docs),k(e.nextPage),w(e=>({prev:e.current,current:""}))})},[j]),(0,f.useEffect)(()=>(Z.current=p.ScrollTrigger.create({trigger:C.current,start:"top top",end:"bottom bottom",onUpdate:e=>{let t=+e.progress.toFixed(2);!j.current&&t>=.75&&1===e.direction&&w(e=>({prev:e.current,current:"loadmore"}))}}),()=>{Z.current&&Z.current.kill()}),[j]),(0,f.useEffect)(()=>{var e;null===(e=Z.current)||void 0===e||e.refresh()},[L]),(0,f.useEffect)(()=>{if(!M)return;let e={threshold:.3},t=h.p8.context(()=>{var t;let r=null===(t=C.current)||void 0===t?void 0:t.querySelectorAll("article"),n=h.p8.timeline(),i=new IntersectionObserver(function(e,t){e.forEach(e=>{if("cat_switch"!=j.prev&&(0>=p.ScrollTrigger.positionInViewport(e.target)||"1"==e.target.style.opacity))t.unobserve(e.target);else if(e.isIntersecting){let r="-=0.4";n.isActive()||(r="+=0"),n.to(e.target,{opacity:1},r),t.unobserve(e.target)}})},e);r&&(h.p8.set(r,{opacity:(e,t)=>"cat_switch"!=j.prev&&(0>=p.ScrollTrigger.positionInViewport(t)||p.ScrollTrigger.isInViewport(t))?1:0}),r.forEach(e=>{i.observe(e)}))},C);return()=>{t.revert()}},[M,L]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("section",{className:_().hero,children:(0,n.jsx)(u.Z,{className:_().wrapper,children:(0,n.jsxs)("h1",{ref:I,children:[(0,n.jsx)("span",{children:"Work"}),(0,n.jsxs)("em",{children:["(",(0,a.Z)(L.length),")"]})]})})}),(0,n.jsx)("section",{ref:T,className:_().worksList,children:(0,n.jsxs)(u.Z,{className:_().wrapper,children:[L.length?(0,n.jsx)("div",{ref:C,className:_().items,children:L.map((e,t)=>(0,n.jsx)(l.Z,{...e},t))}):(0,n.jsx)("div",{className:c().nothingFound,children:"Nothing Found"}),null!==b&&j.current&&(0,n.jsx)("div",{className:c().loading+" "+c()[j.current],children:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 45 45",stroke:"currentColor",children:(0,n.jsxs)("g",{fill:"none",fillRule:"evenodd",strokeWidth:2,transform:"translate(1 1)",children:[(0,n.jsxs)("circle",{cx:22,cy:22,r:6,stroke:"currentColor",children:[(0,n.jsx)("animate",{attributeName:"r",begin:"1.5s",calcMode:"linear",dur:"3s",repeatCount:"indefinite",values:"6;22"}),(0,n.jsx)("animate",{attributeName:"stroke-opacity",begin:"1.5s",calcMode:"linear",dur:"3s",repeatCount:"indefinite",values:"1;0"}),(0,n.jsx)("animate",{attributeName:"stroke-width",begin:"1.5s",calcMode:"linear",dur:"3s",repeatCount:"indefinite",values:"2;0"})]}),(0,n.jsxs)("circle",{cx:22,cy:22,r:6,stroke:"currentColor",children:[(0,n.jsx)("animate",{attributeName:"r",begin:"3s",calcMode:"linear",dur:"3s",repeatCount:"indefinite",values:"6;22"}),(0,n.jsx)("animate",{attributeName:"stroke-opacity",begin:"3s",calcMode:"linear",dur:"3s",repeatCount:"indefinite",values:"1;0"}),(0,n.jsx)("animate",{attributeName:"stroke-width",begin:"3s",calcMode:"linear",dur:"3s",repeatCount:"indefinite",values:"2;0"})]}),(0,n.jsx)("circle",{cx:22,cy:22,r:8,children:(0,n.jsx)("animate",{attributeName:"r",begin:"0s",calcMode:"linear",dur:"1.5s",repeatCount:"indefinite",values:"6;1;2;3;4;5;6"})})]})})}),(0,n.jsx)(o.B,{current:N,items:t,callback:y})]})})]})}var j=!0;function w(e){let{projects:t,categories:r,locale:i}=e;return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(v,{items:t,categories:r.docs,locale:i})})}w.getLayout=function(e){return(0,n.jsx)(i.Z,{...e.props,children:e})}},75228:function(e,t,r){"use strict";r.d(t,{B:function(){return d}});var n=r(85893),i=r(60541),s=r(71130),c=r(67294),o=r(96630),l=r(20833),u=r.n(l),a=r(10990);function d(e){let{current:t,items:r,callback:l}=e,d=(0,c.useRef)(null),[h,p]=(0,c.useState)(!1),f=(0,c.useRef)(null),{onCursor:m}=(0,c.useContext)(i.uG),g=(0,s.Z)("(min-width: 1024px)"),_=e=>{var t,r;l(e),p(!1);let n=(null===(r=d.current)||void 0===r?void 0:null===(t=r.parentElement)||void 0===t?void 0:t.getBoundingClientRect().top)||0;window.scrollTo({top:n+window.scrollY-120,left:0,behavior:"smooth"})};return(0,c.useEffect)(()=>{f.current&&(h?(a.p8.from(f.current,{width:0,duration:.3}),a.p8.from(f.current,{height:0,delay:.3,duration:.4})):(a.p8.to(f.current,{height:0,duration:.4}),a.p8.to(f.current,{width:0,delay:.4,duration:.3})))},[h]),(0,c.useEffect)(()=>{let e=e=>{d.current&&!d.current.contains(e.target)&&p(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),(0,n.jsx)("div",{ref:d,className:u().filter,"aria-current":h,children:(0,n.jsxs)("div",{className:u().inner,children:[(0,n.jsx)(o.ZP,{in:h||g,timeout:500,unmountOnExit:!0,children:(0,n.jsxs)("ul",{ref:f,children:[(0,n.jsx)("li",{children:(0,n.jsx)("button",{onClick:()=>_({id:"",title:"",slug:""}),"data-current":!t||!t.id,onMouseEnter:()=>m("pointer"),onMouseLeave:()=>m(),children:"All"})}),r.map(e=>{let{id:r,title:i,slug:s}=e;return(0,n.jsx)("li",{children:(0,n.jsx)("button",{onClick:()=>_({id:r,title:i,slug:s}),"data-current":r==(t&&t.id),onMouseEnter:()=>m("pointer"),onMouseLeave:()=>m(),children:i})},r)})]})}),!g&&(0,n.jsxs)("button",{className:u().filterButton,onClick:()=>{p(!h)},"aria-current":h,children:[(0,n.jsx)("i",{}),(0,n.jsxs)("span",{children:[(0,n.jsx)("span",{children:"Show\xa0Filter"}),(0,n.jsx)("span",{children:"Hide\xa0Filter"})]})]})]})})}},2422:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var n=r(85893),i=r(83030),s=r.n(i);function c(e){let{primary:t,category:r,className:i}=e,c=[s().block];return(i&&c.push(i),r&&r.length)?(0,n.jsxs)("ul",{className:c.join(" "),children:["object"==typeof t&&(0,n.jsx)("li",{className:s().primary,children:t.value.title}),r.length&&r.map((e,r)=>{let{value:i}=e;return(0,n.jsx)("li",{className:"first"==t&&0==r&&s().primary||void 0,children:i.title},r)})]}):(0,n.jsx)(n.Fragment,{})}},70639:function(e,t,r){"use strict";r.d(t,{Z:function(){return m}});var n=r(85893),i=r(60541),s=r(2422),c=r(53065),o=r(25675),l=r.n(o),u=r(11163),a=r(67294),d=r(26602),h=r.n(d),p=r(41664),f=r.n(p);function m(e){let{category:t,featuredImage:r,title:o,shortTitle:d}=e,p=function(e){let{slug:t}=e;return"/case-study/".concat(t)}(e),{onCursor:m}=(0,a.useContext)(i.uG),g=(0,u.useRouter)();return(0,n.jsxs)("article",{className:h().block,onClick:()=>g.push(p,void 0,{scroll:!1}),onMouseEnter:()=>m("view"),onMouseLeave:()=>m(),children:[(0,n.jsxs)("picture",{children:[r&&r.url&&(0,n.jsx)(l(),{src:r.url,alt:r.alt,width:930,height:866}),(0,n.jsx)(s.Z,{className:h().tags,primary:{value:{title:o}},category:t})]}),(0,n.jsx)("h6",{children:(0,n.jsx)(f(),{href:p,scroll:!1,children:(0,c.Z)(d||o)})})]})}},38855:function(e,t,r){"use strict";function n(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;for(e=e.toString();e.length<t;)e="0"+e;return e}r.d(t,{Z:function(){return n}})},53065:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(47311);function i(e){if(!e)return"";let t=e.replaceAll("\n","<br />").replaceAll("{","<b>").replaceAll("}","</b>");return(0,n.ZP)(t)}},61211:function(e,t,r){"use strict";r.d(t,{s:function(){return i}});var n=r(67294);function i(){let e=(0,n.useRef)(!0);return(0,n.useEffect)(()=>{e.current=!1},[]),e.current}},71130:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(67294);function i(e){let[t,r]=(0,n.useState)();return(0,n.useEffect)(()=>{let t=window.matchMedia(e),n=()=>r(!!t.matches);return n(),t.addEventListener("change",n),()=>t.removeEventListener("change",n)},[e]),t}},7129:function(e){e.exports={"lg-up":"min-width: 1024px","sm-up":"min-width: 768px","md-up":"min-width: 960px",block:"InsightsList_block__dzLuK",wrapper:"InsightsList_wrapper__5TWil",items:"InsightsList_items__sAhHi",categories:"InsightsList_categories__HuBk_",nothingFound:"InsightsList_nothingFound__T9RzO",loading:"InsightsList_loading__eCO6E",cat_switch:"InsightsList_cat_switch__Wxo78",scroll:"InsightsList_scroll__dLldZ"}},721:function(e){e.exports={"lg-up":"min-width: 1024px","md-up":"min-width: 960px","sm-up":"min-width: 768px",hero:"WorksList_hero__UyZHT",wrapper:"WorksList_wrapper__SXbLb",worksList:"WorksList_worksList__VtTxV",items:"WorksList_items__Biza2"}},20833:function(e){e.exports={"lg-up":"min-width: 1024px",filter:"PostsFilter_filter__DNqKb",inner:"PostsFilter_inner__jAT78",filterButton:"PostsFilter_filterButton__dnTQC"}},83030:function(e){e.exports={block:"Tags2_block__BmA8z",primary:"Tags2_primary__Il3RQ"}},26602:function(e){e.exports={block:"WorkItem_block__1_Klx",tags:"WorkItem_tags___YPJh"}}},function(e){e.O(0,[9774,5950,9548,2888,179],function(){return e(e.s=57401)}),_N_E=e.O()}]);